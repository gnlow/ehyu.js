!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.ehyu={})}(this,function(t){var e=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],n=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],o=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],i=function(t,e,n){this.from=t,this.to=e,this.setup=n||{}};i.prototype.apply=function(t){var e=this;return t.map(function(t){return e.setup.target?e.change(t,e.setup.target):(e.change(t,"onset"),e.change(t,"nucleus"),e.change(t,"coda")),t})},i.prototype.change=function(t,e){t[e]==this.from&&(t[e]=this.to,this.setup.lock&&t.lock(e))};var s=function(t){this.isLocked={onset:!1,nucleus:!1,coda:!1},this._char=t,this.genSyllable(t)},c={onset:{configurable:!0},nucleus:{configurable:!0},coda:{configurable:!0},char:{configurable:!0},isHangul:{configurable:!0}};s.prototype.genSyllable=function(t){this.isHangul&&(this.onset=e[~~((t.charCodeAt(0)-44032)/28/21)],this.nucleus=n[~~((t.charCodeAt(0)-44032)/28%21)],this.coda=o[(t.charCodeAt(0)-44032)%28])},c.onset.get=function(){return this._onset},c.onset.set=function(t){this.isLocked.onset||(this._onset=t)},c.nucleus.get=function(){return this._nucleus},c.nucleus.set=function(t){this.isLocked.nucleus||(this._nucleus=t)},c.coda.get=function(){return this._coda},c.coda.set=function(t){this.isLocked.coda||(this._coda=t)},c.char.get=function(){if(this.isHangul){var t=e.indexOf(this.onset),i=n.indexOf(this.nucleus),s=o.indexOf(this.coda);return String.fromCharCode(44032+28*t*21+28*i+s)}return this._char},c.char.set=function(t){this.genSyllable(t),this._char=t},c.isHangul.get=function(){return/[가-힣]/.test(this._char)},s.prototype.lock=function(t){this.isLocked[t]=!0},Object.defineProperties(s.prototype,c);var u=function(t){this.originContent=t.split("").map(function(t){return new s(t)}),this.rules=[]},r={content:{configurable:!0}};u.prototype.replace=function(t,e,n){return this.rules.push(new i(t,e,n)),this},r.content.get=function(){return this.rules.reduce(function(t,e){return e.apply(t)},this.originContent).map(function(t){return t.char}).join("")},Object.defineProperties(u.prototype,r),t.Gljas=u});
